<%= notice %>

<div class="container mx-auto mt-2"> 
  <div class="mb-8">
    <%= link_to "Add a card", new_card_path, class: "bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded" %>
  </div>

  <% @cards.group_by(&:status).each do |status, cards| %>
    <h2><%= status %>  </h2>
    <div class="flex space-x-5">
      <% cards.each do |card| %>
        <div class="w-full md:w-1/2 lg:w-1/3 xl:w-1/4 p-4 bg-white shadow-md rounded-lg mb-4">
          <h2 class="text-lg font-semibold mb-2"><%= card.title %></h2>
          <div class="content-container flex-grow overflow-hidden">
            <p class="content truncate"><%= card.content %></p>

          </div>

          <p class="text-sm text-gray-500"><%= card.created_at.strftime("%d/%m/%Y") %></p>
          <%= link_to "Details", card_path(card), class: "text-blue-500 hover:underline", onclick: "showCardDetails('#{card.title}', '#{card.content}', '#{card.created_at.strftime("%d/%m/%Y")}') ; return false;" %>
          <% if current_user.present? %>
            <%= link_to "Edit", edit_card_path(card), class: "text-gray-500 hover:underline ml-4" %>
            <%= link_to "Delete", card_path(card),  class: "text-red-500 hover:underline ml-4", method: :delete, data: { turbo_confirm: "Are you sure you want to delete this card?", turbo_method: :delete } %>
          <% end %>
          <% if card.due_on.present? %>
            <p class="mt-2">Due On: <%= card.due_on %></p>
          <% end %>
        </div>
      <% end %>
    </div>
  <% end %>
</div>

